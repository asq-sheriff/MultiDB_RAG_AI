<svg viewBox="0 0 900 700" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="headerGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#1a1a2e"/>
      <stop offset="100%" style="stop-color:#16213e"/>
    </linearGradient>
    <linearGradient id="clientGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#e8f4f8"/>
      <stop offset="100%" style="stop-color:#d0e8f0"/>
    </linearGradient>
    <linearGradient id="apiGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#4dabf7"/>
      <stop offset="100%" style="stop-color:#339af0"/>
    </linearGradient>
    <linearGradient id="serviceGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#8ce99a"/>
      <stop offset="100%" style="stop-color:#69db7c"/>
    </linearGradient>
    <linearGradient id="dbGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#ffd43b"/>
      <stop offset="100%" style="stop-color:#fab005"/>
    </linearGradient>
    <linearGradient id="aiGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#e599f7"/>
      <stop offset="100%" style="stop-color:#da77f2"/>
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.2"/>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="900" height="700" fill="#fafafa"/>

  <!-- Title -->
  <text x="450" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#1a1a2e">
    MultiDB-AI System Architecture
  </text>
  <text x="450" y="55" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#666">
    Enterprise RAG Pipeline with Polyglot Persistence
  </text>

  <!-- Client Layer -->
  <rect x="50" y="75" width="800" height="70" rx="8" fill="url(#clientGrad)" stroke="#4a90e2" stroke-width="2" filter="url(#shadow)"/>
  <text x="70" y="95" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#2c5aa0">Client Layer</text>
  <rect x="70" y="105" width="90" height="30" rx="4" fill="#fff" stroke="#4a90e2" stroke-width="1"/>
  <text x="115" y="125" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#333">Web UI</text>
  <rect x="170" y="105" width="90" height="30" rx="4" fill="#fff" stroke="#4a90e2" stroke-width="1"/>
  <text x="215" y="125" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#333">Mobile App</text>
  <rect x="270" y="105" width="90" height="30" rx="4" fill="#fff" stroke="#4a90e2" stroke-width="1"/>
  <text x="315" y="125" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#333">API Clients</text>
  <rect x="370" y="105" width="110" height="30" rx="4" fill="#fff" stroke="#4a90e2" stroke-width="1"/>
  <text x="425" y="125" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#333">Admin Dashboard</text>

  <!-- Arrow -->
  <path d="M 450 145 L 450 165" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrowDown)"/>

  <!-- FastAPI Application Layer -->
  <rect x="50" y="170" width="800" height="85" rx="8" fill="url(#apiGrad)" stroke="#1971c2" stroke-width="2" filter="url(#shadow)"/>
  <text x="70" y="190" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#fff">FastAPI Application Layer</text>
  <rect x="70" y="200" width="120" height="40" rx="4" fill="#fff" stroke="#1971c2" stroke-width="1"/>
  <text x="130" y="217" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#333">API Endpoints</text>
  <text x="130" y="232" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">REST + WebSocket</text>
  <rect x="200" y="200" width="120" height="40" rx="4" fill="#fff" stroke="#1971c2" stroke-width="1"/>
  <text x="260" y="217" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#333">Authentication</text>
  <text x="260" y="232" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">JWT + OAuth2</text>
  <rect x="330" y="200" width="120" height="40" rx="4" fill="#fff" stroke="#1971c2" stroke-width="1"/>
  <text x="390" y="217" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#333">Rate Limiting</text>
  <text x="390" y="232" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Redis-backed</text>
  <rect x="460" y="200" width="140" height="40" rx="4" fill="#fff" stroke="#1971c2" stroke-width="1"/>
  <text x="530" y="217" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#333">Dependency Injection</text>
  <text x="530" y="232" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Service Container</text>

  <!-- Arrow -->
  <path d="M 450 255 L 450 275" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrowDown)"/>

  <!-- Service Layer -->
  <rect x="50" y="280" width="800" height="110" rx="8" fill="url(#serviceGrad)" stroke="#2f9e44" stroke-width="2" filter="url(#shadow)"/>
  <text x="70" y="300" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#1e7b34">Service Layer</text>
  <rect x="70" y="310" width="130" height="65" rx="4" fill="#fff" stroke="#2f9e44" stroke-width="1"/>
  <text x="135" y="330" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#333">RAG Pipeline</text>
  <text x="135" y="345" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">LangChain</text>
  <text x="135" y="358" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Vector Search</text>
  <text x="135" y="371" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Context Retrieval</text>
  <rect x="210" y="310" width="130" height="65" rx="4" fill="#fff" stroke="#2f9e44" stroke-width="1"/>
  <text x="275" y="330" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#333">Chatbot Service</text>
  <text x="275" y="345" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Conversation Mgmt</text>
  <text x="275" y="358" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Response Generation</text>
  <text x="275" y="371" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Stream Support</text>
  <rect x="350" y="310" width="130" height="65" rx="4" fill="#fff" stroke="#2f9e44" stroke-width="1"/>
  <text x="415" y="330" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#333">Embedding Service</text>
  <text x="415" y="345" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Text Vectorization</text>
  <text x="415" y="358" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Batch Processing</text>
  <text x="415" y="371" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">768-dim Vectors</text>
  <rect x="490" y="310" width="130" height="65" rx="4" fill="#fff" stroke="#2f9e44" stroke-width="1"/>
  <text x="555" y="330" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#333">Auth Service</text>
  <text x="555" y="345" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">User Management</text>
  <text x="555" y="358" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Session Handling</text>
  <text x="555" y="371" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Token Refresh</text>
  <rect x="630" y="310" width="130" height="65" rx="4" fill="#fff" stroke="#2f9e44" stroke-width="1"/>
  <text x="695" y="330" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#333">Billing Service</text>
  <text x="695" y="345" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Usage Tracking</text>
  <text x="695" y="358" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Quota Management</text>
  <text x="695" y="371" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Plan Limits</text>

  <!-- Arrow -->
  <path d="M 450 390 L 450 410" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrowDown)"/>

  <!-- Database Layer -->
  <rect x="50" y="415" width="800" height="110" rx="8" fill="url(#dbGrad)" stroke="#e67700" stroke-width="2" filter="url(#shadow)"/>
  <text x="70" y="435" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#945200">Database Layer (Polyglot Persistence)</text>
  <rect x="70" y="445" width="170" height="65" rx="4" fill="#fff" stroke="#e67700" stroke-width="1"/>
  <text x="155" y="463" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#47A248">MongoDB Atlas</text>
  <text x="155" y="478" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Vector Search Index</text>
  <text x="155" y="491" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Document Storage</text>
  <text x="155" y="504" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Semantic Retrieval</text>
  <rect x="250" y="445" width="170" height="65" rx="4" fill="#fff" stroke="#e67700" stroke-width="1"/>
  <text x="335" y="463" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#4169E1">PostgreSQL</text>
  <text x="335" y="478" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Users &amp; Auth (ACID)</text>
  <text x="335" y="491" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Billing &amp; Subscriptions</text>
  <text x="335" y="504" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Relational Data</text>
  <rect x="430" y="445" width="170" height="65" rx="4" fill="#fff" stroke="#e67700" stroke-width="1"/>
  <text x="515" y="463" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#6CD5E7">ScyllaDB</text>
  <text x="515" y="478" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Conversation Logs</text>
  <text x="515" y="491" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">High-Throughput Writes</text>
  <text x="515" y="504" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Time-Series Data</text>
  <rect x="610" y="445" width="170" height="65" rx="4" fill="#fff" stroke="#e67700" stroke-width="1"/>
  <text x="695" y="463" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#DC382D">Redis</text>
  <text x="695" y="478" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Session Cache</text>
  <text x="695" y="491" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Rate Limiting</text>
  <text x="695" y="504" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Real-time Pub/Sub</text>

  <!-- Arrow -->
  <path d="M 450 525 L 450 545" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrowDown)"/>

  <!-- AI/ML Layer -->
  <rect x="50" y="550" width="800" height="90" rx="8" fill="url(#aiGrad)" stroke="#9c36b5" stroke-width="2" filter="url(#shadow)"/>
  <text x="70" y="570" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#6b2a7d">AI/ML Layer</text>
  <rect x="70" y="580" width="170" height="45" rx="4" fill="#fff" stroke="#9c36b5" stroke-width="1"/>
  <text x="155" y="598" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#412991">OpenAI GPT</text>
  <text x="155" y="615" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">LLM Response Generation</text>
  <rect x="250" y="580" width="170" height="45" rx="4" fill="#fff" stroke="#9c36b5" stroke-width="1"/>
  <text x="335" y="598" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#1C3C3C">LangChain</text>
  <text x="335" y="615" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Orchestration &amp; Chains</text>
  <rect x="430" y="580" width="170" height="45" rx="4" fill="#fff" stroke="#9c36b5" stroke-width="1"/>
  <text x="515" y="598" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#333">Sentence Transformers</text>
  <text x="515" y="615" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Embedding Models</text>
  <rect x="610" y="580" width="170" height="45" rx="4" fill="#fff" stroke="#9c36b5" stroke-width="1"/>
  <text x="695" y="598" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#333">Qwen / Local LLM</text>
  <text x="695" y="615" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">On-Prem Alternative</text>

  <!-- Infrastructure badges -->
  <rect x="50" y="655" width="800" height="35" rx="4" fill="#f1f3f4" stroke="#ddd" stroke-width="1"/>
  <text x="70" y="677" font-family="Arial, sans-serif" font-size="11" fill="#666">Infrastructure:</text>
  <rect x="160" y="662" width="70" height="20" rx="3" fill="#2496ED"/>
  <text x="195" y="676" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#fff">Docker</text>
  <rect x="240" y="662" width="90" height="20" rx="3" fill="#326CE5"/>
  <text x="285" y="676" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#fff">Kubernetes</text>
  <rect x="340" y="662" width="100" height="20" rx="3" fill="#FF9900"/>
  <text x="390" y="676" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#fff">AWS / GCP</text>
  <rect x="450" y="662" width="100" height="20" rx="3" fill="#181717"/>
  <text x="500" y="676" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#fff">GitHub Actions</text>
  <rect x="560" y="662" width="80" height="20" rx="3" fill="#3776AB"/>
  <text x="600" y="676" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#fff">Python 3.13</text>

  <!-- Arrow Marker -->
  <defs>
    <marker id="arrowDown" markerWidth="10" markerHeight="10" refX="5" refY="5" orient="auto">
      <polygon points="0,0 10,5 0,10" fill="#666"/>
    </marker>
  </defs>
</svg>
